{"ast":null,"code":"var _jsxFileName = \"/Users/toddalexander/Documents/Github/invoice-app/src/components/CreateInvoice.jsx\";\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport CreateLineItem from './CreateLineItem';\nimport LineItem from './LineItem';\nimport '../App.css';\n\nclass CreateInvoice extends React.Component {\n  constructor() {\n    super();\n\n    this.handleChange = e => {\n      const key = e.target.name;\n      this.setState({\n        [key]: e.target.value\n      });\n    };\n\n    this.handleInvoiceSave = async e => {\n      e.preventDefault();\n      const {\n        name,\n        email,\n        dueDate,\n        total\n      } = this.state;\n      const body = {\n        name,\n        email,\n        dueDate,\n        total\n      };\n\n      try {\n        await fetch('http://localhost:8080/invoices', {\n          method: 'POST',\n          headers: {\n            \"Content-Type\": \"application/json\"\n          },\n          body: JSON.stringify(body)\n        }); // redirect to home page\n\n        console.log(body);\n        window.location = '/';\n      } catch (err) {\n        console.error(err.message);\n      }\n    };\n\n    this.addLineItem = obj => {\n      const lineItemsArray = this.state.lineItems.concat(obj);\n      this.setState({\n        lineItems: lineItemsArray\n      });\n    };\n\n    this.state = {\n      name: '',\n      email: '',\n      dueDate: '',\n      total: 0.00,\n      lineItems: []\n    };\n  }\n\n  componentDidUpdate() {\n    this.setState({\n      total: document.getElementById('totalAmount').innerHTML\n    });\n    console.log('creative invoice component update:');\n  }\n\n  render() {\n    let totalAmount = 0.00;\n    const lineItems = this.state.lineItems.map((li, index) => {\n      totalAmount += Number(li.amount);\n      return /*#__PURE__*/React.createElement(LineItem, {\n        description: li.description,\n        amount: li.amount,\n        key: index,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 14\n        }\n      });\n    });\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"invoice-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      className: \"invoice-form\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-wrapper\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"input-label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 13\n      }\n    }, \"Name\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"name\",\n      className: \"input\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-wrapper\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"input-label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 13\n      }\n    }, \"Email\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"email\",\n      className: \"input\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-wrapper\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"input-label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 13\n      }\n    }, \"Due Date\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"date\",\n      name: \"dueDate\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 13\n      }\n    }))), /*#__PURE__*/React.createElement(CreateLineItem, {\n      addLineItem: this.addLineItem,\n      email: this.state.email,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }\n    }), lineItems, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"totals-wrapper\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 11\n      }\n    }, \"TOTAL\"), /*#__PURE__*/React.createElement(\"p\", {\n      id: \"totalAmount\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 11\n      }\n    }, totalAmount)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"buttonContainer\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 24\n      }\n    }, \"BACK\")), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      onClick: this.handleInvoiceSave,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 11\n      }\n    }, \"CREATE\")));\n  }\n\n}\n\nexport default CreateInvoice;","map":{"version":3,"sources":["/Users/toddalexander/Documents/Github/invoice-app/src/components/CreateInvoice.jsx"],"names":["React","Link","CreateLineItem","LineItem","CreateInvoice","Component","constructor","handleChange","e","key","target","name","setState","value","handleInvoiceSave","preventDefault","email","dueDate","total","state","body","fetch","method","headers","JSON","stringify","console","log","window","location","err","error","message","addLineItem","obj","lineItemsArray","lineItems","concat","componentDidUpdate","document","getElementById","innerHTML","render","totalAmount","map","li","index","Number","amount","description"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,OAAOC,cAAP,MAA2B,kBAA3B;AACA,OAAOC,QAAP,MAAqB,YAArB;AACA,OAAO,YAAP;;AAEA,MAAMC,aAAN,SAA4BJ,KAAK,CAACK,SAAlC,CAA4C;AAE1CC,EAAAA,WAAW,GAAG;AACZ;;AADY,SAWdC,YAXc,GAWEC,CAAD,IAAO;AACpB,YAAMC,GAAG,GAAGD,CAAC,CAACE,MAAF,CAASC,IAArB;AACA,WAAKC,QAAL,CAAc;AAAE,SAACH,GAAD,GAAOD,CAAC,CAACE,MAAF,CAASG;AAAlB,OAAd;AACD,KAda;;AAAA,SAgBdC,iBAhBc,GAgBM,MAAON,CAAP,IAAa;AAC/BA,MAAAA,CAAC,CAACO,cAAF;AACA,YAAM;AAAEJ,QAAAA,IAAF;AAAQK,QAAAA,KAAR;AAAeC,QAAAA,OAAf;AAAwBC,QAAAA;AAAxB,UAAkC,KAAKC,KAA7C;AACA,YAAMC,IAAI,GAAG;AAAET,QAAAA,IAAF;AAASK,QAAAA,KAAT;AAAgBC,QAAAA,OAAhB;AAAyBC,QAAAA;AAAzB,OAAb;;AACA,UAAI;AACF,cAAMG,KAAK,CAAC,gCAAD,EAAmC;AAC5CC,UAAAA,MAAM,EAAE,MADoC;AAE5CC,UAAAA,OAAO,EAAE;AAAC,4BAAgB;AAAjB,WAFmC;AAG5CH,UAAAA,IAAI,EAAEI,IAAI,CAACC,SAAL,CAAeL,IAAf;AAHsC,SAAnC,CAAX,CADE,CAMF;;AACAM,QAAAA,OAAO,CAACC,GAAR,CAAYP,IAAZ;AACAQ,QAAAA,MAAM,CAACC,QAAP,GAAkB,GAAlB;AACD,OATD,CASE,OAAOC,GAAP,EAAY;AACZJ,QAAAA,OAAO,CAACK,KAAR,CAAcD,GAAG,CAACE,OAAlB;AACD;AACF,KAhCa;;AAAA,SAkCdC,WAlCc,GAkCCC,GAAD,IAAS;AACrB,YAAMC,cAAc,GAAG,KAAKhB,KAAL,CAAWiB,SAAX,CAAqBC,MAArB,CAA4BH,GAA5B,CAAvB;AACA,WAAKtB,QAAL,CAAc;AAACwB,QAAAA,SAAS,EAAED;AAAZ,OAAd;AACD,KArCa;;AAEZ,SAAKhB,KAAL,GAAa;AACXR,MAAAA,IAAI,EAAE,EADK;AAEXK,MAAAA,KAAK,EAAE,EAFI;AAGXC,MAAAA,OAAO,EAAE,EAHE;AAIXC,MAAAA,KAAK,EAAE,IAJI;AAKXkB,MAAAA,SAAS,EAAE;AALA,KAAb;AAOD;;AA8BDE,EAAAA,kBAAkB,GAAG;AACnB,SAAK1B,QAAL,CAAc;AAACM,MAAAA,KAAK,EAAEqB,QAAQ,CAACC,cAAT,CAAwB,aAAxB,EAAuCC;AAA/C,KAAd;AACAf,IAAAA,OAAO,CAACC,GAAR,CAAY,oCAAZ;AACD;;AAEDe,EAAAA,MAAM,GAAG;AACP,QAAIC,WAAW,GAAG,IAAlB;AACA,UAAMP,SAAS,GAAG,KAAKjB,KAAL,CAAWiB,SAAX,CAAqBQ,GAArB,CAAyB,CAACC,EAAD,EAAKC,KAAL,KAAe;AACxDH,MAAAA,WAAW,IAAII,MAAM,CAACF,EAAE,CAACG,MAAJ,CAArB;AACA,0BAAO,oBAAC,QAAD;AAAU,QAAA,WAAW,EAAEH,EAAE,CAACI,WAA1B;AAAuC,QAAA,MAAM,EAAEJ,EAAE,CAACG,MAAlD;AAA0D,QAAA,GAAG,EAAEF,KAA/D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAP;AACD,KAHiB,CAAlB;AAKA,wBACE;AAAK,MAAA,SAAS,EAAC,mBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAM,MAAA,SAAS,EAAC,cAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAO,MAAA,SAAS,EAAC,aAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eAEE;AACE,MAAA,IAAI,EAAC,MADP;AAEE,MAAA,IAAI,EAAC,MAFP;AAGE,MAAA,SAAS,EAAC,OAHZ;AAIE,MAAA,QAAQ,EAAE,KAAKvC,YAJjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,CADF,eAUE;AAAK,MAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAO,MAAA,SAAS,EAAC,aAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADF,eAEE;AACE,MAAA,IAAI,EAAC,MADP;AAEE,MAAA,IAAI,EAAC,OAFP;AAGE,MAAA,SAAS,EAAC,OAHZ;AAIE,MAAA,QAAQ,EAAE,KAAKA,YAJjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,CAVF,eAmBE;AAAK,MAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAO,MAAA,SAAS,EAAC,aAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,eAEE;AACE,MAAA,IAAI,EAAC,MADP;AAEE,MAAA,IAAI,EAAC,SAFP;AAGE,MAAA,QAAQ,EAAE,KAAKA,YAHjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,CAnBF,CADF,eA6BE,oBAAC,cAAD;AACE,MAAA,WAAW,EAAE,KAAK0B,WADpB;AAEE,MAAA,KAAK,EAAE,KAAKd,KAAL,CAAWH,KAFpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MA7BF,EAiCGoB,SAjCH,eAkCE;AAAK,MAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADF,eAEE;AAAG,MAAA,EAAE,EAAC,aAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAqBO,WAArB,CAFF,CAlCF,eAsCE;AAAK,MAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,IAAD;AAAM,MAAA,EAAE,EAAC,GAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAa;AAAQ,MAAA,IAAI,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAAb,CADF,eAEE;AAAQ,MAAA,IAAI,EAAC,QAAb;AAAsB,MAAA,OAAO,EAAE,KAAK7B,iBAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFF,CAtCF,CADF;AA6CD;;AAlGyC;;AAqG5C,eAAeV,aAAf","sourcesContent":["import React from 'react';\nimport { Link } from 'react-router-dom';\nimport CreateLineItem from './CreateLineItem';\nimport LineItem from './LineItem'\nimport '../App.css'\n\nclass CreateInvoice extends React.Component {\n\n  constructor() {\n    super();\n    this.state = {\n      name: '',\n      email: '',\n      dueDate: '',\n      total: 0.00,\n      lineItems: [],\n    }\n  }\n\n  handleChange = (e) => {\n    const key = e.target.name;\n    this.setState({ [key]: e.target.value })\n  };\n\n  handleInvoiceSave = async (e) => {\n    e.preventDefault();\n    const { name, email, dueDate, total } = this.state;\n    const body = { name , email, dueDate, total};\n    try {\n      await fetch('http://localhost:8080/invoices', {\n        method: 'POST',\n        headers: {\"Content-Type\": \"application/json\"},\n        body: JSON.stringify(body)\n      });\n      // redirect to home page\n      console.log(body)\n      window.location = '/'\n    } catch (err) {\n      console.error(err.message); \n    }  \n  };\n\n  addLineItem = (obj) => {\n    const lineItemsArray = this.state.lineItems.concat(obj);\n    this.setState({lineItems: lineItemsArray})\n  }\n\n  componentDidUpdate() {\n    this.setState({total: document.getElementById('totalAmount').innerHTML})\n    console.log('creative invoice component update:', )\n  }\n\n  render() {\n    let totalAmount = 0.00;\n    const lineItems = this.state.lineItems.map((li, index) => {\n      totalAmount += Number(li.amount);\n      return <LineItem description={li.description} amount={li.amount} key={index} />\n    })\n\n    return(\n      <div className=\"invoice-container\">\n        <form className=\"invoice-form\">\n          <div className=\"input-wrapper\">\n            <label className=\"input-label\">Name</label>\n            <input \n              type=\"text\" \n              name=\"name\" \n              className=\"input\" \n              onChange={this.handleChange}\n            ></input>\n          </div>\n          <div className=\"input-wrapper\">\n            <label className=\"input-label\">Email</label>\n            <input \n              type=\"text\" \n              name=\"email\" \n              className=\"input\"\n              onChange={this.handleChange}\n            ></input>\n          </div>\n          <div className=\"input-wrapper\">\n            <label className=\"input-label\">Due Date</label>\n            <input \n              type=\"date\" \n              name=\"dueDate\" \n              onChange={this.handleChange}\n            ></input>\n          </div>\n        </form>\n        <CreateLineItem \n          addLineItem={this.addLineItem} \n          email={this.state.email}\n        />\n        {lineItems}\n        <div className=\"totals-wrapper\">\n          <label>TOTAL</label>\n          <p id='totalAmount'>{totalAmount}</p>\n        </div>\n        <div className=\"buttonContainer\">\n          <Link to=\"/\"><button type=\"submit\">BACK</button></Link>\n          <button type=\"submit\" onClick={this.handleInvoiceSave}>CREATE</button>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default CreateInvoice;"]},"metadata":{},"sourceType":"module"}