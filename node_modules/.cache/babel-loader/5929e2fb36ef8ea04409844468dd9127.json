{"ast":null,"code":"'use strict';\n\nclass CancelError extends Error {\n  constructor() {\n    super('Promise was canceled');\n    this.name = 'CancelError';\n  }\n\n}\n\nclass PCancelable {\n  static fn(fn) {\n    return function () {\n      const args = [].slice.apply(arguments);\n      return new PCancelable((onCancel, resolve, reject) => {\n        args.unshift(onCancel);\n        fn.apply(null, args).then(resolve, reject);\n      });\n    };\n  }\n\n  constructor(executor) {\n    this._pending = true;\n    this._canceled = false;\n    this._promise = new Promise((resolve, reject) => {\n      this._reject = reject;\n      return executor(fn => {\n        this._cancel = fn;\n      }, val => {\n        this._pending = false;\n        resolve(val);\n      }, err => {\n        this._pending = false;\n        reject(err);\n      });\n    });\n  }\n\n  then() {\n    return this._promise.then.apply(this._promise, arguments);\n  }\n\n  catch() {\n    return this._promise.catch.apply(this._promise, arguments);\n  }\n\n  cancel() {\n    if (!this._pending || this._canceled) {\n      return;\n    }\n\n    if (typeof this._cancel === 'function') {\n      try {\n        this._cancel();\n      } catch (err) {\n        this._reject(err);\n      }\n    }\n\n    this._canceled = true;\n\n    this._reject(new CancelError());\n  }\n\n  get canceled() {\n    return this._canceled;\n  }\n\n}\n\nObject.setPrototypeOf(PCancelable.prototype, Promise.prototype);\nmodule.exports = PCancelable;\nmodule.exports.CancelError = CancelError;","map":{"version":3,"sources":["/Users/toddalexander/Documents/Github/invoice-app/node_modules/currency/node_modules/p-cancelable/index.js"],"names":["CancelError","Error","constructor","name","PCancelable","fn","args","slice","apply","arguments","onCancel","resolve","reject","unshift","then","executor","_pending","_canceled","_promise","Promise","_reject","_cancel","val","err","catch","cancel","canceled","Object","setPrototypeOf","prototype","module","exports"],"mappings":"AAAA;;AAEA,MAAMA,WAAN,SAA0BC,KAA1B,CAAgC;AAC/BC,EAAAA,WAAW,GAAG;AACb,UAAM,sBAAN;AACA,SAAKC,IAAL,GAAY,aAAZ;AACA;;AAJ8B;;AAOhC,MAAMC,WAAN,CAAkB;AACjB,SAAOC,EAAP,CAAUA,EAAV,EAAc;AACb,WAAO,YAAY;AAClB,YAAMC,IAAI,GAAG,GAAGC,KAAH,CAASC,KAAT,CAAeC,SAAf,CAAb;AACA,aAAO,IAAIL,WAAJ,CAAgB,CAACM,QAAD,EAAWC,OAAX,EAAoBC,MAApB,KAA+B;AACrDN,QAAAA,IAAI,CAACO,OAAL,CAAaH,QAAb;AACAL,QAAAA,EAAE,CAACG,KAAH,CAAS,IAAT,EAAeF,IAAf,EAAqBQ,IAArB,CAA0BH,OAA1B,EAAmCC,MAAnC;AACA,OAHM,CAAP;AAIA,KAND;AAOA;;AAEDV,EAAAA,WAAW,CAACa,QAAD,EAAW;AACrB,SAAKC,QAAL,GAAgB,IAAhB;AACA,SAAKC,SAAL,GAAiB,KAAjB;AAEA,SAAKC,QAAL,GAAgB,IAAIC,OAAJ,CAAY,CAACR,OAAD,EAAUC,MAAV,KAAqB;AAChD,WAAKQ,OAAL,GAAeR,MAAf;AAEA,aAAOG,QAAQ,CACdV,EAAE,IAAI;AACL,aAAKgB,OAAL,GAAehB,EAAf;AACA,OAHa,EAIdiB,GAAG,IAAI;AACN,aAAKN,QAAL,GAAgB,KAAhB;AACAL,QAAAA,OAAO,CAACW,GAAD,CAAP;AACA,OAPa,EAQdC,GAAG,IAAI;AACN,aAAKP,QAAL,GAAgB,KAAhB;AACAJ,QAAAA,MAAM,CAACW,GAAD,CAAN;AACA,OAXa,CAAf;AAaA,KAhBe,CAAhB;AAiBA;;AAEDT,EAAAA,IAAI,GAAG;AACN,WAAO,KAAKI,QAAL,CAAcJ,IAAd,CAAmBN,KAAnB,CAAyB,KAAKU,QAA9B,EAAwCT,SAAxC,CAAP;AACA;;AAEDe,EAAAA,KAAK,GAAG;AACP,WAAO,KAAKN,QAAL,CAAcM,KAAd,CAAoBhB,KAApB,CAA0B,KAAKU,QAA/B,EAAyCT,SAAzC,CAAP;AACA;;AAEDgB,EAAAA,MAAM,GAAG;AACR,QAAI,CAAC,KAAKT,QAAN,IAAkB,KAAKC,SAA3B,EAAsC;AACrC;AACA;;AAED,QAAI,OAAO,KAAKI,OAAZ,KAAwB,UAA5B,EAAwC;AACvC,UAAI;AACH,aAAKA,OAAL;AACA,OAFD,CAEE,OAAOE,GAAP,EAAY;AACb,aAAKH,OAAL,CAAaG,GAAb;AACA;AACD;;AAED,SAAKN,SAAL,GAAiB,IAAjB;;AACA,SAAKG,OAAL,CAAa,IAAIpB,WAAJ,EAAb;AACA;;AAED,MAAI0B,QAAJ,GAAe;AACd,WAAO,KAAKT,SAAZ;AACA;;AA7DgB;;AAgElBU,MAAM,CAACC,cAAP,CAAsBxB,WAAW,CAACyB,SAAlC,EAA6CV,OAAO,CAACU,SAArD;AAEAC,MAAM,CAACC,OAAP,GAAiB3B,WAAjB;AACA0B,MAAM,CAACC,OAAP,CAAe/B,WAAf,GAA6BA,WAA7B","sourcesContent":["'use strict';\n\nclass CancelError extends Error {\n\tconstructor() {\n\t\tsuper('Promise was canceled');\n\t\tthis.name = 'CancelError';\n\t}\n}\n\nclass PCancelable {\n\tstatic fn(fn) {\n\t\treturn function () {\n\t\t\tconst args = [].slice.apply(arguments);\n\t\t\treturn new PCancelable((onCancel, resolve, reject) => {\n\t\t\t\targs.unshift(onCancel);\n\t\t\t\tfn.apply(null, args).then(resolve, reject);\n\t\t\t});\n\t\t};\n\t}\n\n\tconstructor(executor) {\n\t\tthis._pending = true;\n\t\tthis._canceled = false;\n\n\t\tthis._promise = new Promise((resolve, reject) => {\n\t\t\tthis._reject = reject;\n\n\t\t\treturn executor(\n\t\t\t\tfn => {\n\t\t\t\t\tthis._cancel = fn;\n\t\t\t\t},\n\t\t\t\tval => {\n\t\t\t\t\tthis._pending = false;\n\t\t\t\t\tresolve(val);\n\t\t\t\t},\n\t\t\t\terr => {\n\t\t\t\t\tthis._pending = false;\n\t\t\t\t\treject(err);\n\t\t\t\t}\n\t\t\t);\n\t\t});\n\t}\n\n\tthen() {\n\t\treturn this._promise.then.apply(this._promise, arguments);\n\t}\n\n\tcatch() {\n\t\treturn this._promise.catch.apply(this._promise, arguments);\n\t}\n\n\tcancel() {\n\t\tif (!this._pending || this._canceled) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (typeof this._cancel === 'function') {\n\t\t\ttry {\n\t\t\t\tthis._cancel();\n\t\t\t} catch (err) {\n\t\t\t\tthis._reject(err);\n\t\t\t}\n\t\t}\n\n\t\tthis._canceled = true;\n\t\tthis._reject(new CancelError());\n\t}\n\n\tget canceled() {\n\t\treturn this._canceled;\n\t}\n}\n\nObject.setPrototypeOf(PCancelable.prototype, Promise.prototype);\n\nmodule.exports = PCancelable;\nmodule.exports.CancelError = CancelError;\n"]},"metadata":{},"sourceType":"script"}